<!DOCTYPE html>
<html>

<head>
	<title>eartharoid GO</title>
	<meta charset='UTF-8'>
	<meta name='viewport' content='width=device-width, initial-scale=1, user-scalable=no'>
	<meta http-equiv='X-UA-Compatible' content='IE=edge'>
	<meta name='theme-color' content='#009999'>
	<meta name='title' content='eartharoid GO'>
	<meta name='og:title' content='eartharoid GO' />
	<meta name='og:site_name' content='eartharoid GO' />
	<meta name='description' content='Serverless URL shortener'>
	<meta name='og:description' content='Serverless URL shortener' />
	<meta name='url' content='/'>
	<meta name='og:url' content='/' />
	<meta name='og:image' content='/logo.png' />

	<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css'>
	<link rel='stylesheet' href='https://jenil.github.io/bulmaswatch/darkly/bulmaswatch.min.css'>
	<link rel='icon' href='/favicon.ico' type='image/icon'>
	<script defer src='https://use.fontawesome.com/releases/v5.14.0/js/all.js'></script>

	<style>
		select,
		input[type='text'],
		input[type='text']:placeholder-shown,
		input[type='password'],
		input[type='password']:placeholder-shown {
			background-color: black !important;
			color: white !important;
		}

		input[type='text']::placeholder,
		input[type='password']::placeholder {
			color: grey !important;
		}

		#successMessage,
		#errorMessage {
			display: none;
		}

		#shortURL {
			background-color: white !important;
			color: black !important;
			text-align: center;
		}
	</style>

</head>

<body>
	<section class='section'>
		<container class='container box has-text-centered'>
			<!-- <img class='block is-rounded' src='/logo.png' style='width:128px;'> -->
			<a href='/' class='button is-small my-5 is-outlined is-link'>
				<span class='icon'>
					<i class='fas fa-long-arrow-alt-left'></i>
					<!-- <i class='fas fa-chevron-left'></i> -->
				</span>
				<span>
					Create a new short URL
				</span>
			</a>

			<div id='successMessage' class='notification is-success'>
				<a id='successQR' class='button is-white is-outlined' target='_blank'>
					<span>QR Code</span>
					<span class='icon'>
						<i class='fas fa-external-link-alt'></i>
					</span>
				</a>
				<div class='mt-4'>
					<div class='field has-addons has-addons-centered'>
						<div class='control' style='width:100%;'>
							<input id='shortURL' class='input is-white' type='text' value='' readonly>
						</div>
						<div class='control'>
							<button class='button is-white' onclick='copy(this);'>
								<span class='icon'>
									<i class='fas fa-copy'></i>
								</span>
								<span>Copy</span>
							</button>
						</div>
					</div>
				</div>
			</div>

			<div id='errorMessage' class='notification is-danger'></div>

			<form id='form' action='/api/create' method='POST' onsubmit='shorten(event, this)' class='level'>
				<fieldset class='level-left'>
					<div class='field has-addons has-addons-centered level-item'>
						<div class='control'>
							<span class='select'>
								<select name='protocol'>
									<option>https://</option>
									<option>http://</option>
								</select>
							</span>
						</div>
						<div class='control has-icons-left'>
							<input type='text' name='long' class='input' placeholder='Long URL' autocomplete='off'
								required onchange='deurlize(this);'>
							<span class='icon is-small is-left'>
								<i class='fas fa-link'></i>
							</span>
						</div>
					</div>

					<div class='field level-item'>
						<div class='control has-icons-left'>
							<input type='text' name='slug' class='input' placeholder='Name (optional)'
								autocomplete='off' oninput='slugify(this);' onchange='slugify(this, true);'>
							<span class='icon is-small is-left'>
								<i class='fas fa-font'></i>
							</span>
						</div>
					</div>

					<div class='level-item'>
						<div class='control'>
							<button id='button' type='submit' class='button is-info'>
								<span>Shorten</span>
								<!-- <span class='icon'>
									<i class='fas fa-chevron-right'></i>
								</span> -->
							</button>
						</div>
					</div>
				</fieldset>
			</form>

			<div class='table-container'>
				<table class='table is-bordered is-striped is-hoverable is-fullwidth'>
					<thead>
						<tr>
							%%th%%
						</tr>
					</thead>
					<tfoot>
						<tr>
							%%th%%
						</tr>
					</tfoot>
					<tbody>
						%%tr%%
					</tbody>
				</table>
			</div>

		</container>
		<p class='has-text-centered'>
			&copy; 2021 <a href='https://eartharoid.me'>Isaac Saunders</a>
		</p>
	</section>
	<script defer src='/create.js'></script>
</body>

</html>